@rendermode InteractiveServer

@if (IsSidebarVisible)
{
    <div class="fixed inset-0 bg-black bg-opacity-50" @onclick="@HideSidebar"></div>
}
<aside class="@sidebarClass">
    <div>
        <div>
            <h2>Menu</h2>
        </div>
        <div>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/counter">Counter</a></li>
                <li><a href="/fetchdata">Fetch data</a></li>
            </ul>
        </div>
    </div>
</aside>

@code {
    [Parameter]
    public bool IsSidebarVisible { get; set; }
    [Parameter]
    public EventCallback<bool> IsSidebarVisibleChanged { get; set; }
    private async Task HideSidebar()
    {
        IsSidebarVisible = false;
        await IsSidebarVisibleChanged.InvokeAsync(IsSidebarVisible);
    }

    private string sidebarClass => $"fixed top-0 left-0 bottom-0 overflow-hidden transition-all duration-300 bg-darkblue {(IsSidebarVisible ? "w-40" : "w-0")}";
}
